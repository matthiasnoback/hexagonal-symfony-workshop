{% extends "base.html.twig" %}

{% block body %}
<p><a href="{{ path('task_new') }}" class="btn btn-success">New task</a></p>
<div>
{% for task in tasks %}
    <div class="card task mb-3" data-id="{{ task.id }}">
        <div class="card-body">
            <h5 class="card-title task-task"><a href="{{ path('task_show', { id: task.id }) }}" aria-label="Show">{{ task.task }}</a></h5>
            <p class="card-text task-due-date"><small class="text-muted">Due date: {{ task.dueDate|date('Y-m-d') }}</small>
            {% if task.dueDate < now %}<span class="badge bg-danger">Overdue</span>{% endif %}</p>
            <a href="{{ path('task_edit', { id: task.id }) }}" class="btn btn-primary">Edit</a>
        </div>
    </div>
{% endfor %}
</div>
{% endblock %}
